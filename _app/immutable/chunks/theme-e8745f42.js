import{N as h,B as u,O as g,P as S}from"./index-750e33a9.js";const p=(e,t=null)=>{const r=typeof localStorage<"u",s=r?localStorage.getItem(e):null,a=s?JSON.parse(s):t,n=u(a),{subscribe:m,set:l}=n,d=(o,c)=>{!r||localStorage.setItem(o,JSON.stringify(c))};return{set(o){d(e,o),l(o)},update(o){const c=o(h(n));d(e,c),l(c)},subscribe:m}},w=["system","light","dark"],f=p("theme","system"),i="(prefers-color-scheme: dark)",v=()=>window.matchMedia(i).matches,y=g(v(),e=>{const t=s=>{e(s.matches)},r=window.matchMedia(i);try{r.addEventListener("change",t)}catch{try{r.addListener(t)}catch(a){console.error(a)}}return()=>{try{r.removeEventListener("change",t)}catch{try{r.removeListener(t)}catch(a){console.error(a)}}}}),L=S([f,y],([e,t])=>e==="dark"||e==="system"&&t);export{w as T,L as d,f as t};
