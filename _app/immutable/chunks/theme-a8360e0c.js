import{w as h,r as u,d as g}from"./index-54a3db51.js";import{Q as p}from"./index-1a9a7332.js";const S=(e,t=null)=>{const r=typeof localStorage<"u",s=r?localStorage.getItem(e):null,a=s?JSON.parse(s):t,n=h(a),{subscribe:m,set:l}=n,d=(o,c)=>{!r||localStorage.setItem(o,JSON.stringify(c))};return{set(o){d(e,o),l(o)},update(o){const c=o(p(n));d(e,c),l(c)},subscribe:m}},L=["system","light","dark"],f=S("theme","system"),i="(prefers-color-scheme: dark)",v=()=>window.matchMedia(i).matches,w=u(v(),e=>{const t=s=>{e(s.matches)},r=window.matchMedia(i);try{r.addEventListener("change",t)}catch{try{r.addListener(t)}catch(a){console.error(a)}}return()=>{try{r.removeEventListener("change",t)}catch{try{r.removeListener(t)}catch(a){console.error(a)}}}}),E=g([f,w],([e,t])=>e==="dark"||e==="system"&&t);export{L as T,E as d,f as t};
